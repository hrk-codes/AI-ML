version: "3.1"
session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: false

intents:
  - greet
  - goodbye
  - inform_symptom
  - nlu_fallback

entities:
  - symptom

slots:
  symptom:
    type: list
    influence_conversation: false
    mappings:
      - type: custom
  diagnosed:
    type: bool
    initial_value: false
    influence_conversation: true
    mappings:
      - type: custom

responses:
  utter_greet:
    - text: "Hello! ðŸ‘‹ I am your health assistant. Please describe your symptoms."
  utter_goodbye:
    - text: "Goodbye! Stay healthy."
  utter_fallback:
    - text: "I can't understand your words, please explain again."
  utter_symptoms_acknowledged:
    - text: "Okay, I have noted the following symptoms: {symptoms_list}. Do you have any others?"
  utter_diagnosis_result:
    - text: "Based on your symptoms, this could be **{disease}**. I strongly recommend you consult a doctor for a proper diagnosis and treatment."
  utter_cannot_diagnose:
    - text: "I have noted your symptoms, but I can't determine a specific condition based on them. It is best to see a doctor."
  utter_ask_clarifying_symptom:
    - text: "Your symptoms match a few possibilities, like {possible_diseases}. To help me narrow it down, could you please describe another specific symptom you are feeling?"

actions:
  - action_handle_symptoms